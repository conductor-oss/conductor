{
  "ownerApp": "conductor_ui_test",
  "createTime": 1750730116303,
  "status": "COMPLETED",
  "endTime": 1750730120500,
  "workflowId": "test-do-while-fork-join-dynamic",
  "tasks": [
    {
      "taskType": "DO_WHILE",
      "status": "COMPLETED",
      "referenceTaskName": "do_while_ref",
      "retryCount": 0,
      "seq": 1,
      "scheduledTime": 1750730116400,
      "startTime": 1750730116410,
      "endTime": 1750730120490,
      "updateTime": 1750730120490,
      "taskDefName": "do_while_ref",
      "taskId": "do-while-task-id",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "iteration": 2,
      "outputData": {
        "iteration": 2
      },
      "workflowTask": {
        "name": "do_while_ref",
        "taskReferenceName": "do_while_ref",
        "type": "DO_WHILE",
        "loopCondition": "(function () {if ($.do_while_ref['iteration'] < 2) {return true;} return false;})();",
        "loopOver": [
          {
            "name": "prepare_fork_input_ref",
            "taskReferenceName": "prepare_fork_input_ref",
            "type": "JSON_JQ_TRANSFORM"
          },
          {
            "name": "dynamic_fork_ref",
            "taskReferenceName": "dynamic_fork_ref",
            "type": "FORK_JOIN_DYNAMIC"
          },
          {
            "name": "join_ref",
            "taskReferenceName": "join_ref",
            "type": "JOIN"
          }
        ]
      }
    },
    {
      "taskType": "JSON_JQ_TRANSFORM",
      "status": "COMPLETED",
      "referenceTaskName": "prepare_fork_input_ref__1",
      "retryCount": 0,
      "seq": 2,
      "iteration": 1,
      "scheduledTime": 1750730116450,
      "startTime": 1750730116460,
      "endTime": 1750730116520,
      "updateTime": 1750730116520,
      "taskDefName": "prepare_fork_input_ref",
      "taskId": "prepare-fork-1",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "inputData": {
        "queryExpression": "[{dummy: true}, {dummy: false}]"
      },
      "outputData": {
        "result": [
          {"dummy": true},
          {"dummy": false}
        ]
      },
      "workflowTask": {
        "name": "prepare_fork_input_ref",
        "taskReferenceName": "prepare_fork_input_ref",
        "type": "JSON_JQ_TRANSFORM"
      }
    },
    {
      "taskType": "FORK_JOIN_DYNAMIC",
      "status": "COMPLETED",
      "referenceTaskName": "dynamic_fork_ref__1",
      "retryCount": 0,
      "seq": 3,
      "iteration": 1,
      "scheduledTime": 1750730116550,
      "startTime": 1750730116560,
      "endTime": 1750730117800,
      "updateTime": 1750730117800,
      "taskDefName": "dynamic_fork_ref",
      "taskId": "dynamic-fork-1",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "inputData": {
        "forkTaskName": "dummy",
        "forkTaskType": "SET_VARIABLE",
        "forkTaskInputs": [
          {"dummy": true},
          {"dummy": false}
        ],
        "forkedTaskDefs": [
          {
            "name": "dummy",
            "taskReferenceName": "dummy_1",
            "type": "SET_VARIABLE"
          },
          {
            "name": "dummy",
            "taskReferenceName": "dummy_2",
            "type": "SET_VARIABLE"
          }
        ]
      },
      "outputData": {},
      "workflowTask": {
        "name": "dynamic_fork_ref",
        "taskReferenceName": "dynamic_fork_ref",
        "type": "FORK_JOIN_DYNAMIC"
      }
    },
    {
      "taskType": "SET_VARIABLE",
      "status": "COMPLETED",
      "referenceTaskName": "dummy_1",
      "retryCount": 0,
      "seq": 4,
      "iteration": 1,
      "scheduledTime": 1750730116600,
      "startTime": 1750730116610,
      "endTime": 1750730117700,
      "updateTime": 1750730117700,
      "taskDefName": "dummy",
      "taskId": "dummy-1-task-id",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "inputData": {
        "dummy": "true"
      },
      "outputData": {},
      "workflowTask": {
        "name": "dummy",
        "taskReferenceName": "dummy_1",
        "type": "SET_VARIABLE"
      }
    },
    {
      "taskType": "SET_VARIABLE",
      "status": "COMPLETED",
      "referenceTaskName": "dummy_2",
      "retryCount": 0,
      "seq": 5,
      "iteration": 1,
      "scheduledTime": 1750730116650,
      "startTime": 1750730116660,
      "endTime": 1750730117750,
      "updateTime": 1750730117750,
      "taskDefName": "dummy",
      "taskId": "dummy-2-task-id",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "inputData": {
        "dummy": "false"
      },
      "outputData": {},
      "workflowTask": {
        "name": "dummy",
        "taskReferenceName": "dummy_2",
        "type": "SET_VARIABLE"
      }
    },
    {
      "taskType": "JOIN",
      "status": "COMPLETED",
      "referenceTaskName": "join_ref__1",
      "retryCount": 0,
      "seq": 6,
      "iteration": 1,
      "scheduledTime": 1750730117850,
      "startTime": 1750730117860,
      "endTime": 1750730117900,
      "updateTime": 1750730117900,
      "taskDefName": "join_ref",
      "taskId": "join-1",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "outputData": {},
      "workflowTask": {
        "name": "join_ref",
        "taskReferenceName": "join_ref",
        "type": "JOIN"
      }
    },
    {
      "taskType": "JSON_JQ_TRANSFORM",
      "status": "COMPLETED",
      "referenceTaskName": "prepare_fork_input_ref__2",
      "retryCount": 0,
      "seq": 7,
      "iteration": 2,
      "scheduledTime": 1750730118000,
      "startTime": 1750730118010,
      "endTime": 1750730118070,
      "updateTime": 1750730118070,
      "taskDefName": "prepare_fork_input_ref",
      "taskId": "prepare-fork-2",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "inputData": {
        "queryExpression": "[{dummy: true}, {dummy: false}]"
      },
      "outputData": {
        "result": [
          {"dummy": true},
          {"dummy": false}
        ]
      },
      "workflowTask": {
        "name": "prepare_fork_input_ref",
        "taskReferenceName": "prepare_fork_input_ref",
        "type": "JSON_JQ_TRANSFORM"
      }
    },
    {
      "taskType": "FORK_JOIN_DYNAMIC",
      "status": "COMPLETED",
      "referenceTaskName": "dynamic_fork_ref__2",
      "retryCount": 0,
      "seq": 8,
      "iteration": 2,
      "scheduledTime": 1750730118100,
      "startTime": 1750730118110,
      "endTime": 1750730120350,
      "updateTime": 1750730120350,
      "taskDefName": "dynamic_fork_ref",
      "taskId": "dynamic-fork-2",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "inputData": {
        "forkTaskName": "dummy",
        "forkTaskType": "SET_VARIABLE",
        "forkTaskInputs": [
          {"dummy": true},
          {"dummy": false}
        ],
        "forkedTaskDefs": [
          {
            "name": "dummy",
            "taskReferenceName": "dummy_1",
            "type": "SET_VARIABLE"
          },
          {
            "name": "dummy",
            "taskReferenceName": "dummy_2",
            "type": "SET_VARIABLE"
          }
        ]
      },
      "outputData": {},
      "workflowTask": {
        "name": "dynamic_fork_ref",
        "taskReferenceName": "dynamic_fork_ref",
        "type": "FORK_JOIN_DYNAMIC"
      }
    },
    {
      "taskType": "JOIN",
      "status": "COMPLETED",
      "referenceTaskName": "join_ref__2",
      "retryCount": 0,
      "seq": 9,
      "iteration": 2,
      "scheduledTime": 1750730120400,
      "startTime": 1750730120410,
      "endTime": 1750730120450,
      "updateTime": 1750730120450,
      "taskDefName": "join_ref",
      "taskId": "join-2",
      "workflowInstanceId": "test-do-while-fork-join-dynamic",
      "workflowType": "TestWhileForkJoinDynamicBug",
      "outputData": {},
      "workflowTask": {
        "name": "join_ref",
        "taskReferenceName": "join_ref",
        "type": "JOIN"
      }
    }
  ],
  "workflowDefinition": {
    "name": "TestWhileForkJoinDynamicBug",
    "description": "Test workflow for DO_WHILE with FORK_JOIN_DYNAMIC",
    "version": 1,
    "tasks": [
      {
        "name": "do_while_ref",
        "taskReferenceName": "do_while_ref",
        "inputParameters": {
          "loop_limit": 2
        },
        "type": "DO_WHILE",
        "loopCondition": "(function () {if ($.do_while_ref['iteration'] < 2) {return true;} return false;})();",
        "loopOver": [
          {
            "name": "prepare_fork_input_ref",
            "taskReferenceName": "prepare_fork_input_ref",
            "inputParameters": {
              "queryExpression": "[{dummy: true}, {dummy: false}]"
            },
            "type": "JSON_JQ_TRANSFORM"
          },
          {
            "name": "dynamic_fork_ref",
            "taskReferenceName": "dynamic_fork_ref",
            "inputParameters": {
              "forkTaskName": "dummy",
              "forkTaskType": "SET_VARIABLE",
              "forkTaskInputs": "${prepare_fork_input_ref.output.result}"
            },
            "type": "FORK_JOIN_DYNAMIC",
            "dynamicForkTasksParam": "dynamicTasks",
            "dynamicForkTasksInputParamName": "dynamicTasksInput"
          },
          {
            "name": "join_ref",
            "taskReferenceName": "join_ref",
            "type": "JOIN"
          }
        ]
      }
    ],
    "schemaVersion": 2
  }
}
