dependencies {
    implementation project(':conductor-common')
    implementation project(':conductor-core')

    compileOnly 'org.springframework.boot:spring-boot-starter'
    compileOnly 'org.springframework.boot:spring-boot-starter-web'

    compileOnly "org.springdoc:springdoc-openapi-starter-webmvc-ui:${revSpringDoc}"

    implementation "com.fasterxml.jackson.core:jackson-databind"
    implementation "com.fasterxml.jackson.core:jackson-core"

    implementation "org.apache.commons:commons-lang3"
    implementation "org.postgresql:postgresql:${revPostgres}"
    implementation "org.springframework.boot:spring-boot-starter-jdbc"
    implementation "org.flywaydb:flyway-core:${revFlyway}"
    implementation "org.flywaydb:flyway-database-postgresql:${revFlyway}"

    testImplementation 'org.springframework.boot:spring-boot-starter'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation "org.testcontainers:postgresql:${revTestContainer}"
}

test {
    maxParallelForks = 1
    // Docker Desktop on macOS requires API v1.44+; docker-java defaults to v1.41
    environment 'DOCKER_API_VERSION', '1.44'
}
